<!-- prettier-ignore -->
{% extends "typingtest/base.html" %}
<!-- prettier-ignore -->
{% block title %}History â€” Typing Speed Test{% endblock title %}
<!-- prettier-ignore -->
{% block content %}

<div class="fade-up">
  <h3 class="fw-bold mb-4">
    <i class="bi bi-clock-history me-2"></i>Test History
  </h3>

  <!-- prettier-ignore -->
  {% if results %}
  <div class="typing-card p-0 overflow-hidden">
    <div class="table-responsive">
      <table class="table table-hover mb-0 align-middle typing-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Difficulty</th>
            <th>Duration</th>
            <th>WPM</th>
            <th>Accuracy</th>
            <th>Characters</th>
            <th>Date &amp; Time</th>
          </tr>
        </thead>
        <tbody>
          <!-- prettier-ignore -->
          {% for r in results %}
          <tr
            class="history-row"
            style="animation-delay: {{ forloop.counter0 }}00ms;"
          >
            <td>{{ forloop.counter }}</td>
            <td>
              <span class="badge diff-badge-{{ r.difficulty }}">
                {{ r.difficulty|title }}
              </span>
            </td>
            <td>{{ r.duration }}s</td>
            <td class="fw-bold" style="color: var(--typing-primary)">
              {{ r.wpm|floatformat:0 }}
            </td>
            <td>{{ r.accuracy|floatformat:1 }}%</td>
            <td>{{ r.total_chars }}</td>
            <td class="text-muted" style="white-space: nowrap">
              {{ r.created_at|date:"M d, Y H:i" }}
            </td>
          </tr>
          <!-- prettier-ignore -->
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <!-- prettier-ignore -->
  {% else %}
  <div class="typing-card p-5 text-center text-muted">
    <i class="bi bi-inbox" style="font-size: 3rem"></i>
    <p class="mt-3 mb-0">No tests taken yet. Go take your first test!</p>
    <a href="{% url 'typingtest:index' %}" class="btn btn-typing-primary mt-3">
      <i class="bi bi-keyboard me-1"></i>Start Test
    </a>
  </div>
  <!-- prettier-ignore -->
  {% endif %}
</div>

<!-- prettier-ignore -->
{% endblock content %}
